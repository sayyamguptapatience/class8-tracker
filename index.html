<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Class 9 Exam Tracker</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Poppins', sans-serif; margin: 0; background: #f4f6f8; }
    header { background: #222; color: #fff; padding: 14px; text-align: center; font-size: 1.3rem; font-weight:600; }
    .container { padding: 10px; }
    .subject { border-radius: 16px; padding: 14px; margin-bottom: 18px; color: #fff; }
    .subject h2 { margin: 0 0 6px 0; font-size: 1.15rem; font-weight:600; }
    .meta { font-size: 0.85rem; margin-bottom: 10px; }
    .ratio { font-weight:600; padding:4px 10px; border-radius:20px; display:inline-block; margin-top:6px; }
    details { background: rgba(255,255,255,0.15); border-radius: 12px; padding: 8px; margin-bottom: 8px; }
    summary { cursor: pointer; font-weight: 500; }
    .chapter { display: flex; align-items: center; background: rgba(255,255,255,0.2); padding: 8px; border-radius: 8px; margin: 6px 0; }
    .chapter span { flex: 1; margin-left: 10px; }
    .date { font-size: 0.7rem; opacity: 0.9; }
    .total { background: #000; color: #fff; padding: 14px; border-radius: 16px; text-align: center; margin-bottom: 16px; font-weight:600; }

    input[type="checkbox"]{
      appearance: none; -webkit-appearance: none;
      width: 20px; height: 20px;
      border-radius: 50%; border: 2px solid #fff;
      cursor: pointer; position: relative; background: transparent;
    }
    input[type="checkbox"]:checked{ background: #2ecc71; border-color: #2ecc71; }
    input[type="checkbox"]:checked::after{
      content: '‚úì'; color: #fff; font-size: 13px;
      position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    }
  </style>
</head>
<body>
<header>üìö Class 9 Final Exam Progress Tracker</header>
<div class="container">
  <div class="total" id="totalProgress">Total Progress: 0%</div>
  <div style="display:flex;gap:8px;justify-content:center;margin-bottom:14px;">
    <button onclick="exportData()" style="padding:8px 14px;border-radius:10px;border:none;font-weight:600;cursor:pointer;">‚¨áÔ∏è Export</button>
    <button onclick="importData()" style="padding:8px 14px;border-radius:10px;border:none;font-weight:600;cursor:pointer;">‚¨ÜÔ∏è Import</button>
  </div>
  <div id="subjects"></div>
</div>

<script>
/* ===================== EXAM DATES ===================== */
const exams = {
  Science: '2026-03-13',
  English: '2026-03-09',
  'Social Science': '2026-03-02',
  Mathematics: '2026-02-27',
  Hindi: '2026-03-11',
  'Computer': '2026-03-06'
};

/* ===================== SYLLABUS DATA ===================== */
const syllabus = {
  English: {
    color:'#5b8def',
    sections:{
      'Literature':['An Entreprenuer With a Heart','the Death of a Government Clerk','The Mystery Of Aquilla Diamond','When the Mop Count did not Tally','What is Peace?','The Children Hour','Invictus'],
      'Language':['Articles', 'Finite and Non Finite','Adverbs','Direct and Indirect','Synthesis','Subject Verb-Agreement','Words often confused','Idiomatic Expression'],
    }
  },
  Mathematics: {
    color:'#f39c12',
    sections:{
      'Maths Syllabus':['Direct And Inverse' ,'Algebraic Expression','Factorization','Mensuration','Quadrilateral','Rational No','Linear Equation','Graphs']
    }
  },
  'Social Science': {
    color:'#27ae60',
    sections:{
      History:['Educating the Nation','National Movement 1870-1918','National Movement 1919-1947'],
      Geography:['Industries','Human Resources'],
      Civics:['Confronting Marginalisation','Judiciary'],
    }
  },
  Science: {
    color:'#8e44ad',
    sections:{
      Physics:['Sound','Natural Phenomena','Force and Pressure','Light'],
      Biology:['Crop Production','Microorganisms','Reproduction in Animals',"Reaching the age of Adolescense"],
      Chemistry:['Combustion','Chemical Effecs of Current','Coal and Petroleum','Metal and Non Metal']
    }
  },
  Hindi: {
    color:'#e74c3c',
    sections:{
      Literature:['Anyay ka Virodh','Tangewala','Agla Station','Sanghmitra ki Diary','Margdarshak','pahaad ka dukh','Shakti aur Shamma','Giridhar Ki Kundliya'],
      Grammar:['Kriya','Kaal','Avya','Samaas','Vaachay','Vaakya Vichaar','Ashudh Vakyo','Muhavro','Anekarthi Shabd','Sambhirnatak Shabdh']
    }
  },
  'Computer': {
    color:'#34495e',
    sections:{
      'Computer Syllabus':['Careers in AI','Basics Of Python','Access to AI','Control Flow Statement']
      
    }
  }
};

const subjectsDiv = document.getElementById('subjects');

/* ===================== HELPERS ===================== */
function daysLeft(date){
  const d = Math.ceil((new Date(date) - new Date()) / (1000*60*60*24));
  return d >= 0 ? d + ' days left' : 'Exam over';
}

/* ===================== MAIN LOAD ===================== */
function load(){
  subjectsDiv.innerHTML = '';
  let totalChapters = 0;
  let completedChapters = 0;

  for(const subject in syllabus){
    const s = syllabus[subject];
    const saved = JSON.parse(localStorage.getItem(subject) || '{}');
    let subjectTotal = 0;
    let subjectDone = 0;

    let sectionsHTML = '';
    for(const section in s.sections){
      let chaptersHTML = '';
      s.sections[section].forEach(chapter => {
        subjectTotal++;
        totalChapters++;
        const doneDate = saved[chapter];
        if(doneDate){ subjectDone++; completedChapters++; }

        chaptersHTML += `
          <div class="chapter">
            <input type="checkbox" ${doneDate ? 'checked' : ''} onchange="toggle('${subject}','${chapter}')">
            <span>${chapter}<div class="date">${doneDate || ''}</div></span>
          </div>`;
      });
      sectionsHTML += `<details open><summary>${section}</summary>${chaptersHTML}</details>`;
    }

    const percent = Math.round((subjectDone / subjectTotal) * 100);
    const days = Math.max(1, Math.ceil((new Date(exams[subject]) - new Date()) / (1000*60*60*24)));
    const ratioValue = (subjectDone / days).toFixed(2);

    let ratioColor = '#2ecc71';
    if(ratioValue < 0.3) ratioColor = '#e74c3c';
    else if(ratioValue < 0.6) ratioColor = '#f39c12';

    const div = document.createElement('div');
    div.className = 'subject';
    div.style.background = s.color;
    div.innerHTML = `
      <h2>${subject}</h2>
      <div class="meta">
        Exam: ${new Date(exams[subject]).toDateString()} | ${daysLeft(exams[subject])}<br>
        Completed: ${subjectDone}/${subjectTotal} (${percent}%)<br>
        <span class="ratio" style="background:${ratioColor};">Speed: ${ratioValue} chapters/day</span>
      </div>
      ${sectionsHTML}`;

    subjectsDiv.appendChild(div);
  }

  document.getElementById('totalProgress').innerText =
    `Total Progress: ${Math.round((completedChapters / totalChapters) * 100)}%`;
}

/* ===================== TOGGLE ===================== */
function toggle(subject, chapter){
  const saved = JSON.parse(localStorage.getItem(subject) || '{}');
  if(saved[chapter]) delete saved[chapter];
  else saved[chapter] = new Date().toLocaleDateString();
  localStorage.setItem(subject, JSON.stringify(saved));
  load();

/* ===================== EXPORT / IMPORT ===================== */
function exportData(){
  const data = {};
  for(const subject in syllabus){
    data[subject] = JSON.parse(localStorage.getItem(subject) || '{}');
  }
  const text = JSON.stringify(data);
  navigator.clipboard.writeText(text).then(() => {
    alert('Progress copied! Paste it on another device using Import.');
  });
}

function importData(){
  const text = prompt('Paste exported progress data here:');
  if(!text) return;
  try{
    const data = JSON.parse(text);
    for(const subject in data){
      localStorage.setItem(subject, JSON.stringify(data[subject]));
    }
    alert('Progress imported successfully');
    load();
  }catch(e){
    alert('Invalid data. Please paste correct export text.');
  }
}
}

load();
</script>
</body>
</html>
